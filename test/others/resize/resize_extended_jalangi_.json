{"8":[48,9,48,15],"9":[1,10,1,17],"10":[39,21,39,45],"16":[51,9,51,21],"17":[1,18,1,22],"18":[43,20,43,38],"24":[105,16,105,26],"25":[1,10,1,23],"26":[43,20,43,53],"32":[103,16,103,27],"33":[1,10,1,23],"34":[44,17,44,48],"40":[101,9,101,24],"41":[1,10,1,23],"42":[44,17,44,66],"48":[154,13,154,26],"49":[5,19,5,21],"50":[44,17,44,79],"56":[156,30,156,85],"57":[5,29,5,42],"58":[44,17,44,86],"64":[157,34,157,98],"65":[5,44,5,48],"66":[44,17,44,107],"72":[158,31,158,89],"73":[5,19,5,49],"74":[44,17,44,113],"75":[5,19,5,28],"80":[159,29,159,82],"81":[5,19,5,49],"82":[49,19,49,38],"88":[160,33,160,94],"89":[5,19,5,49],"90":[51,9,51,21],"96":[161,35,161,111],"97":[8,12,8,19],"98":[52,19,52,39],"104":[162,29,162,82],"105":[8,20,8,35],"106":[64,21,64,33],"112":[168,20,168,34],"113":[8,12,8,36],"114":[67,42,67,84],"120":[173,9,173,55],"121":[8,12,8,41],"122":[173,9,173,40],"129":[8,12,8,41],"130":[173,9,173,55],"137":[8,12,8,41],"138":[174,29,174,53],"145":[9,12,9,19],"146":[174,29,174,77],"153":[9,20,9,26],"161":[9,12,9,27],"169":[9,12,9,27],"177":[9,12,9,27],"185":[10,13,10,20],"193":[10,21,10,28],"201":[10,13,10,29],"209":[10,13,10,29],"217":[10,13,10,29],"225":[11,14,11,21],"233":[11,22,11,30],"241":[11,14,11,31],"249":[11,14,11,31],"257":[11,14,11,31],"265":[12,14,12,21],"273":[12,22,12,34],"281":[12,14,12,35],"289":[12,14,12,35],"297":[12,14,12,35],"305":[15,24,15,29],"313":[15,31,15,40],"321":[15,23,15,41],"329":[16,28,16,46],"337":[17,25,17,31],"345":[18,22,18,25],"353":[19,26,19,29],"361":[20,22,20,24],"369":[14,16,20,26],"377":[14,16,20,26],"385":[14,16,20,26],"393":[25,10,25,13],"401":[25,20,25,23],"409":[25,10,25,24],"411":[25,10,25,19],"417":[25,25,25,26],"425":[25,10,25,27],"433":[25,10,25,34],"435":[25,10,25,32],"441":[25,10,25,34],"449":[25,3,25,35],"457":[24,1,26,2],"465":[24,1,26,2],"473":[24,1,26,2],"481":[38,20,38,31],"489":[38,20,38,37],"497":[38,20,38,37],"505":[38,15,38,38],"513":[38,15,38,38],"521":[39,10,39,14],"529":[39,21,39,32],"537":[39,21,39,37],"545":[39,40,39,45],"553":[39,10,39,46],"555":[39,10,39,20],"561":[39,10,39,46],"569":[39,3,39,47],"577":[37,1,40,2],"585":[37,1,40,2],"593":[37,1,40,2],"601":[37,1,40,2],"609":[43,20,43,27],"617":[43,20,43,32],"625":[43,35,43,38],"633":[43,41,43,48],"641":[43,41,43,53],"649":[43,20,43,53],"657":[43,20,43,53],"665":[44,17,44,28],"673":[44,31,44,38],"681":[44,31,44,48],"689":[44,51,44,66],"697":[44,69,44,79],"705":[44,82,44,86],"713":[44,89,44,96],"721":[44,89,44,107],"729":[44,110,44,113],"737":[44,17,44,113],"745":[44,17,44,113],"753":[46,11,46,15],"761":[46,16,46,23],"769":[48,9,48,15],"777":[49,7,49,14],"785":[49,19,49,29],"793":[49,32,49,38],"801":[49,7,49,39],"803":[49,7,49,18],"809":[49,7,49,40],"817":[51,9,51,12],"825":[51,17,51,21],"833":[52,7,52,14],"841":[52,19,52,33],"849":[52,36,52,39],"857":[52,7,52,40],"859":[52,7,52,18],"865":[52,7,52,41],"873":[54,5,54,13],"881":[54,14,54,17],"889":[54,5,54,18],"897":[54,5,54,19],"905":[47,3,55,4],"913":[47,3,55,4],"921":[47,3,55,4],"929":[47,3,55,4],"937":[47,3,55,4],"945":[47,3,55,4],"953":[46,11,55,5],"961":[46,11,55,5],"969":[46,3,55,6],"977":[42,1,56,2],"985":[42,1,56,2],"993":[42,1,56,2],"1001":[42,1,56,2],"1009":[42,1,56,2],"1017":[42,1,56,2],"1025":[59,16,59,23],"1033":[59,16,59,30],"1041":[59,16,59,34],"1049":[59,16,59,41],"1057":[59,16,59,41],"1065":[59,16,59,41],"1073":[62,16,62,23],"1081":[62,24,62,29],"1089":[62,24,62,34],"1097":[62,16,62,35],"1105":[62,16,62,35],"1113":[62,16,62,35],"1121":[63,17,63,24],"1129":[63,25,63,30],"1137":[63,25,63,36],"1145":[63,17,63,37],"1153":[63,17,63,37],"1161":[63,17,63,37],"1169":[64,21,64,25],"1177":[64,28,64,33],"1185":[64,21,64,33],"1193":[64,21,64,33],"1201":[65,22,65,29],"1209":[65,22,65,45],"1217":[65,22,65,45],"1225":[65,22,65,45],"1233":[66,5,66,11],"1241":[66,17,66,27],"1249":[66,5,66,28],"1251":[66,5,66,16],"1257":[66,5,66,29],"1265":[67,20,67,24],"1273":[67,30,67,40],"1281":[67,42,67,49],"1289":[67,42,67,67],"1297":[67,70,67,75],"1305":[67,70,67,84],"1313":[67,20,67,85],"1315":[67,20,67,29],"1321":[67,20,67,85],"1329":[67,20,67,85],"1337":[68,5,68,18],"1345":[70,18,70,25],"1353":[70,18,70,46],"1361":[71,13,71,22],"1369":[72,19,72,27],"1377":[69,5,72,29],"1385":[75,7,75,11],"1393":[75,12,75,15],"1401":[75,7,75,16],"1409":[75,7,75,17],"1417":[74,5,76,6],"1425":[74,5,76,6],"1433":[74,5,76,6],"1441":[74,5,76,6],"1449":[68,5,76,7],"1457":[68,5,76,8],"1465":[61,3,78,4],"1473":[61,3,78,4],"1481":[61,3,78,4],"1489":[61,3,78,4],"1497":[61,3,78,4],"1505":[61,3,78,4],"1513":[61,3,78,4],"1521":[61,3,78,4],"1529":[61,3,78,4],"1537":[80,3,80,8],"1545":[81,3,81,9],"1553":[82,3,82,14],"1561":[84,5,84,13],"1569":[84,14,84,17],"1577":[84,5,84,18],"1585":[84,5,84,19],"1593":[83,3,85,4],"1601":[83,3,85,4],"1609":[83,3,85,4],"1617":[83,3,85,4],"1625":[80,3,85,5],"1627":[80,3,80,13],"1633":[80,3,85,6],"1641":[58,1,87,2],"1649":[58,1,87,2],"1657":[58,1,87,2],"1665":[58,1,87,2],"1673":[58,1,87,2],"1681":[61,3,78,4],"1689":[58,1,87,2],"1697":[97,16,97,23],"1705":[97,16,97,30],"1713":[97,16,97,38],"1721":[97,16,97,45],"1729":[97,16,97,45],"1737":[97,16,97,45],"1745":[100,16,100,19],"1753":[100,16,100,19],"1761":[100,16,100,19],"1769":[101,9,101,14],"1777":[101,9,101,24],"1785":[102,14,102,30],"1793":[102,39,102,46],"1801":[102,39,102,62],"1809":[102,71,102,76],"1817":[102,71,102,86],"1825":[102,31,102,88],"1833":[102,14,102,89],"1841":[102,14,102,89],"1849":[102,7,102,90],"1857":[103,16,103,21],"1865":[103,16,103,27],"1873":[104,14,104,30],"1881":[104,39,104,46],"1889":[104,39,104,59],"1897":[104,68,104,73],"1905":[104,68,104,79],"1913":[104,31,104,81],"1921":[104,14,104,82],"1929":[104,14,104,82],"1937":[104,7,104,83],"1945":[105,16,105,21],"1953":[105,16,105,26],"1961":[106,14,106,21],"1969":[106,22,106,27],"1977":[106,22,106,32],"1985":[106,14,106,33],"1993":[106,14,106,33],"2001":[106,7,106,34],"2009":[108,14,108,18],"2017":[108,23,108,28],"2025":[108,29,108,73],"2033":[108,19,108,74],"2041":[108,14,108,75],"2049":[108,14,108,75],"2057":[108,7,108,76],"2065":[111,22,111,26],"2073":[111,32,111,39],"2081":[111,32,111,59],"2089":[111,61,111,66],"2097":[111,61,111,73],"2105":[111,22,111,74],"2107":[111,22,111,31],"2113":[111,22,111,74],"2121":[111,22,111,74],"2129":[112,5,112,11],"2137":[112,17,112,27],"2145":[112,5,112,28],"2147":[112,5,112,16],"2153":[112,5,112,29],"2161":[113,20,113,24],"2169":[113,30,113,40],"2177":[113,42,113,49],"2185":[113,42,113,71],"2193":[113,20,113,72],"2195":[113,20,113,29],"2201":[113,20,113,72],"2209":[113,20,113,72],"2217":[114,5,114,18],"2225":[116,18,116,25],"2233":[116,18,116,46],"2241":[117,13,117,17],"2249":[118,19,118,27],"2257":[115,5,118,29],"2265":[121,7,121,11],"2273":[121,12,121,15],"2281":[121,7,121,16],"2289":[121,7,121,17],"2297":[120,5,122,6],"2305":[120,5,122,6],"2313":[120,5,122,6],"2321":[120,5,122,6],"2329":[114,5,122,7],"2337":[114,5,122,8],"2345":[99,3,124,4],"2353":[99,3,124,4],"2361":[99,3,124,4],"2369":[99,3,124,4],"2377":[99,3,124,4],"2385":[99,3,124,4],"2393":[99,3,124,4],"2401":[126,3,126,8],"2409":[127,3,127,9],"2417":[128,3,128,14],"2425":[130,5,130,13],"2433":[130,14,130,17],"2441":[130,5,130,18],"2449":[130,5,130,19],"2457":[129,3,131,4],"2465":[129,3,131,4],"2473":[129,3,131,4],"2481":[129,3,131,4],"2489":[126,3,131,5],"2491":[126,3,126,13],"2497":[126,3,131,6],"2505":[96,1,133,2],"2513":[96,1,133,2],"2521":[96,1,133,2],"2529":[96,1,133,2],"2537":[96,1,133,2],"2545":[99,3,124,4],"2553":[96,1,133,2],"2561":[136,14,136,28],"2569":[137,10,137,20],"2577":[135,26,137,22],"2585":[135,26,137,22],"2593":[135,26,137,22],"2601":[154,13,154,20],"2609":[154,24,154,26],"2617":[154,13,154,26],"2625":[154,3,154,27],"2633":[156,3,156,10],"2641":[156,30,156,37],"2649":[156,30,156,54],"2657":[156,58,156,66],"2665":[156,58,156,85],"2673":[156,3,156,85],"2681":[156,3,156,86],"2689":[157,3,157,10],"2697":[157,34,157,41],"2705":[157,34,157,62],"2713":[157,66,157,74],"2721":[157,66,157,98],"2729":[157,3,157,98],"2737":[157,3,157,99],"2745":[158,3,158,10],"2753":[158,31,158,38],"2761":[158,31,158,56],"2769":[158,60,158,68],"2777":[158,60,158,89],"2785":[158,3,158,89],"2793":[158,3,158,90],"2801":[159,3,159,10],"2809":[159,29,159,36],"2817":[159,29,159,52],"2825":[159,56,159,64],"2833":[159,56,159,82],"2841":[159,3,159,82],"2849":[159,3,159,83],"2857":[160,3,160,10],"2865":[160,33,160,40],"2873":[160,33,160,60],"2881":[160,64,160,72],"2889":[160,64,160,94],"2897":[160,3,160,94],"2905":[160,3,160,95],"2913":[161,3,161,10],"2921":[161,35,161,42],"2929":[161,35,161,64],"2937":[161,68,161,72],"2945":[161,82,161,89],"2953":[161,82,161,110],"2961":[161,68,161,111],"2963":[161,68,161,81],"2969":[161,3,161,111],"2977":[161,3,161,112],"2985":[162,3,162,10],"2993":[162,29,162,36],"3001":[162,29,162,52],"3009":[162,56,162,64],"3017":[162,56,162,82],"3025":[162,3,162,82],"3033":[162,3,162,83],"3041":[164,20,164,26],"3049":[164,27,164,34],"3057":[164,27,164,55],"3065":[164,20,164,56],"3073":[164,20,164,56],"3081":[164,20,164,56],"3089":[165,3,165,10],"3097":[165,26,165,30],"3105":[165,35,165,45],"3113":[165,35,165,51],"3121":[165,53,165,63],"3129":[165,53,165,70],"3137":[165,26,165,71],"3139":[165,26,165,34],"3145":[165,3,165,71],"3153":[165,3,165,72],"3161":[168,3,168,10],"3169":[168,20,168,27],"3177":[168,20,168,34],"3185":[168,37,168,44],"3193":[168,45,168,49],"3201":[168,58,168,65],"3209":[168,58,168,72],"3217":[168,45,168,73],"3219":[168,45,168,57],"3225":[168,37,168,74],"3233":[168,77,168,84],"3241":[168,85,168,96],"3249":[168,77,168,97],"3257":[168,3,168,97],"3265":[168,3,168,98],"3273":[170,3,170,8],"3281":[171,3,171,10],"3289":[171,3,171,27],"3297":[173,16,173,34],"3305":[173,35,173,39],"3313":[173,16,173,40],"3321":[173,45,173,55],"3329":[174,14,174,18],"3337":[174,23,174,28],"3345":[174,29,174,46],"3353":[174,49,174,53],"3361":[174,56,174,77],"3369":[174,19,174,78],"3377":[174,14,174,79],"3385":[174,14,174,79],"3393":[174,7,174,80],"3401":[176,5,176,23],"3409":[176,24,176,28],"3417":[176,30,176,37],"3425":[176,39,176,43],"3433":[176,5,176,44],"3435":[176,5,176,29],"3441":[176,5,176,45],"3449":[172,3,177,4],"3457":[172,3,177,4],"3465":[172,3,177,4],"3473":[172,3,177,4],"3481":[172,3,177,4],"3489":[178,3,178,11],"3497":[170,3,178,12],"3499":[170,3,170,13],"3505":[170,3,178,13],"3513":[153,14,180,2],"3521":[153,14,180,2],"3529":[153,14,180,2],"3537":[153,14,180,2],"3545":[153,14,180,2],"3553":[153,14,180,2],"3561":[153,14,180,2],"3569":[153,14,180,2],"3577":[153,14,180,2],"3585":[182,1,182,7],"3593":[182,19,182,27],"3601":[182,1,182,27],"3609":[182,1,182,28],"3617":[183,11,183,17],"3625":[183,28,183,34],"3633":[183,11,183,34],"3641":[183,11,183,34],"3649":[183,1,183,35],"3657":[1,1,184,20],"3665":[1,1,184,20],"3673":[1,1,184,20],"3681":[1,1,184,20],"3689":[1,1,184,20],"3697":[1,1,184,20],"3705":[1,1,184,20],"3713":[1,1,184,20],"3721":[1,1,184,20],"3729":[24,1,26,2],"3737":[1,1,184,20],"3745":[37,1,40,2],"3753":[1,1,184,20],"3761":[42,1,56,2],"3769":[1,1,184,20],"3777":[58,1,87,2],"3785":[1,1,184,20],"3793":[96,1,133,2],"3801":[1,1,184,20],"3809":[1,1,184,20],"3817":[1,1,184,20],"3825":[24,1,26,2],"3833":[24,1,26,2],"3841":[37,1,40,2],"3849":[37,1,40,2],"3857":[48,5,50,6],"3865":[51,5,53,6],"3873":[47,3,55,4],"3881":[47,3,55,4],"3889":[42,1,56,2],"3897":[42,1,56,2],"3905":[74,5,76,6],"3913":[74,5,76,6],"3921":[61,3,78,4],"3929":[61,3,78,4],"3937":[83,3,85,4],"3945":[83,3,85,4],"3953":[58,1,87,2],"3961":[58,1,87,2],"3969":[105,12,109,6],"3977":[103,12,109,6],"3985":[101,5,109,6],"3993":[120,5,122,6],"4001":[120,5,122,6],"4009":[99,3,124,4],"4017":[99,3,124,4],"4025":[129,3,131,4],"4033":[129,3,131,4],"4041":[96,1,133,2],"4049":[96,1,133,2],"4057":[168,20,168,97],"4065":[173,5,175,6],"4073":[172,3,177,4],"4081":[172,3,177,4],"4089":[153,14,180,2],"4097":[153,14,180,2],"4105":[1,1,184,20],"4113":[1,1,184,20],"nBranches":30,"originalCodeFileName":"/Users/tzuhan/+research/hyper_enforce/HyperEnforce/csf23_benchmarks/resize/resize_extended.js","instrumentedCodeFileName":"/Users/tzuhan/+research/hyper_enforce/HyperEnforce/csf23_benchmarks/resize/resize_extended_jalangi_.js","code":"var S$ = require('S$');\n\n\n\nvar con_options = S$.symbol('con_options', true);\n\n\nvar exec = require('child_process').exec;\nvar path = require('path');\nvar async = require('async');\nvar mkdirp = require('mkdirp');\nvar sizeOf = require('image-size');\n\nvar defaults = {\n  PLATFORMS_TO_BUILD: ['ios', 'android'],\n  ORIGINAL_ICON_FILE_NAME: 'appicon_1024.png',\n  IOS_FILE_NAME_PREFIX: 'Icon',\n  IOS_OUTPUT_FOLDER: '.',\n  ANDROID_OUTPUT_FOLDER: '.',\n  ANDROID_BASE_SIZE: 48\n};\n\n// Convert \"29x29\" to 29 or \"2x\" to 2\nfunction getSize(str) {\n  return str.split(\"x\")[0].trim();\n}\n\n/**\n * Calculate the target image size based on the size ratio\n * from the original input image size or base image size.\n *\n * @param  {object} options An object with the following properties:\n *                          - originalSize\n *                          - ratio\n * @return {[type]}         [description]\n */\nfunction getSizeFromRatio(con_options) {\n  var ratio = eval(con_options.ratio); // Yeah, eval... Deal with it!\n  return Math.floor(con_options.size * ratio);\n}\n\nfunction executeResize(options, callback) {\n  var dimensions = options.size + 'x' + options.size;\n  var command = 'convert \"' + options.inputFile + '\" -thumbnail ' + dimensions + ' \"' + options.outputFile + '\"';\n\n  child = exec(command,\n    function (err, stdout, stderr) {\n      if (stderr) {\n        console.log('stderr: ' + stderr);\n      }\n      if (err !== null) {\n        console.log('exec error: ' + err);\n      }\n      callback(err);\n  });\n}\n\nfunction convertiOS(options, callback) {\n  var images = options.config.iOS.images;\n\n  function handleImage(image, done) {\n    var size = getSize(image.size);\n    var scale = getSize(image.scale);\n    var finalSize = size * scale;\n    var baseFolder = options.iosOutputFolder;\n    mkdirp.sync(baseFolder);\n    var fileName = path.join(baseFolder, options.iosFilenamePrefix + image.filename);\n    executeResize(\n      {\n        inputFile: options.originalIconFilename,\n        size: finalSize,\n        outputFile: fileName\n      },\n      function (err) {\n        done(err);\n      }\n    );\n  }\n\n  async.each(\n    images,\n    handleImage,\n    function (err) {\n      callback(err);\n    }\n  );\n}\n\n/**\n *\n * @param  {[type]}   options  Parameters:\n *                             - originalSize\n * @param  {Function} callback\n * @return {undefined}\n */\nfunction convertAndroid(options, callback) {\n  var images = options.config.android.images;\n\n  function handleImage(image, done) {\n    var size = 100;\n    if (image.baseRatio) {\n      size = getSizeFromRatio({ size: options.androidBaseSize, ratio: image.baseRatio});\n    } else if (image.ratio) {\n      size = getSizeFromRatio({ size: options.originalSize, ratio: image.ratio});\n    } else if (image.size) {\n      size = getSize(image.size);\n    } else {\n      return done(new Error('No size nor ratio defined for Android icon'));\n    }\n\n    var baseFolder = path.join(options.androidOutputFolder, image.folder);\n    mkdirp.sync(baseFolder);\n    var fileName = path.join(baseFolder, options.androidOutputFilename);\n    executeResize(\n      {\n        inputFile: options.originalIconFilename,\n        size: size,\n        outputFile: fileName\n      },\n      function (err) {\n        done(err);\n      }\n    );\n  }\n\n  async.each(\n    images,\n    handleImage,\n    function (err) {\n      callback(err);\n    }\n  );\n}\n\nvar platformConverters = {\n  'android': convertAndroid,\n  'ios': convertiOS\n};\n\n/**\n * The entry method to batch resize images for Android and/or iOS.\n *\n * @param  {[type]} options The following params are supported:\n *                          - platformsToBuild: For which platforms should the icons be resized. Comma-separated list.\n *                          - originalIconFilename: The prefix of the iOS image files.\n *                          - iosFilenamePrefix: The prefix of the iOS image files.\n *                          - iosOutputFolder: The output folder for the iOS icons.\n *                          - androidOutputFolder: The output folder for the Android icons.\n *                          - androidOutputFilename: The output file name for the Android icons.\n *                          - androidBaseSize: The base size to consider for the `baseRatio` calculation.\n * @return {[type]}         [description]\n */\nvar resize = function (options, callback) {\n  options = options || {};\n\n  options.platformsToBuild = options.platformsToBuild || defaults.PLATFORMS_TO_BUILD;\n  options.originalIconFilename = options.originalIconFilename || defaults.ORIGINAL_ICON_FILE_NAME;\n  options.iosFilenamePrefix = options.iosFilenamePrefix || defaults.IOS_FILE_NAME_PREFIX;\n  options.iosOutputFolder = options.iosOutputFolder || defaults.IOS_OUTPUT_FOLDER;\n  options.androidOutputFolder = options.androidOutputFolder || defaults.ANDROID_OUTPUT_FOLDER;\n  options.androidOutputFilename = options.androidOutputFilename || path.basename(options.originalIconFilename);\n  options.androidBaseSize = options.androidBaseSize || defaults.ANDROID_BASE_SIZE;\n\n  var dimensions = sizeOf(options.originalIconFilename);\n  options.originalSize = Math.max(dimensions.width, dimensions.height);\n\n  // Load the actual config object from a custom file or our default config\n  options.config = (options.config) ? require(path.resolve(options.config)) : require('../config');\n\n  async.each(\n    options.platformsToBuild,\n    function (item, done) {\n      if (typeof platformConverters[item] !== 'function') {\n        return done(new Error('Platform type \"'+item+'\" is not supported.'));\n      }\n      platformConverters[item](options, done);\n    },\n    callback\n  );\n};\n\nresize.defaults = defaults;\nexports = module.exports = resize;\n/// END OF FILE ///\n"}